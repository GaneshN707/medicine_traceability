{% extends 'sidebar.html' %}

{% block body %}

{% if user.is_authenticated %}
    
    
<div style="margin-left: 400px">
<h1>Camera Access Example</h1>
    
<button id="cameraButton">Open Camera</button>
<video id="cameraFeed" autoplay="true"></video>

<script>
    const cameraButton = document.getElementById('cameraButton');
    const cameraFeed = document.getElementById('cameraFeed');

    cameraButton.addEventListener('click', async () => {
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ video: true });

            cameraFeed.srcObject = stream;
        } catch (error) {
            console.error('Error accessing the camera:', error);
        }
    });
</script>

</div>
{% endif %}
{% endblock body %}